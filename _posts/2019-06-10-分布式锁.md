---
layout: post
title: "分布式锁"
description: ""
category: [java,基础]
tags: [基础]
---
{% include JB/setup %}

# zk

- 在my_lock文件夹下面，按照想要获取锁的客户端去创建临时顺序节点
- 临时顺序节点最小的客户端获取锁，同时每个客户端都会对它上一个顺序节点保持一个监听器
- 当锁释放或者客户端宕机，临时顺序节点会删除，相当于锁自动释放
- 通过监听，仅通知监听此节点的临时顺序节点去获取锁【公平锁】，避免惊群效应
- reference：http://www.imooc.com/article/284956?block_id=tuijian_wz

# redis