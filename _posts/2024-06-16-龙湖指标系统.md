---
layout: post
title: "龙湖指标系统总结"
description: ""
category: [java,系统总结]
tags: [系统总结]
---
{% include JB/setup %}

# 买赠业务架构演变

#### 1.指标系统背景

```
编排从公司拿地到房屋销售中，不同阶段的施工排期，施工成果总结，施工人员评分等功能。
同时根据研发经理在不同施工阶段，录入的楼体，分期，组团，业态，房屋面积，金额
等数据对房屋销售数据进行预测，分发给下游系统进行相应的使用。
```


### 系统上下游交互
![](https://img.picgo.net/2024/06/16/image96aa5e6105e9d2e5.png)

#### 2.系统业务流程图

![](https://img.picgo.net/2024/06/16/image28ab52cefd82538b.png)

### 技术架构图[slb+gateway]
* slb消除单点故障：slb自动屏蔽故障的ecs的实例，将请求分发给正常运行的ecs实例
* slb同城容灾：只能同城，不能跨城
* slb动态伸缩
* 公司是多地部署，每个地方都需要一套slb[因为slb不能跨地域]，请求来了，通过阿里云的智能dns服务，把请求分发给不同的region的slb。
  ![](https://s21.ax1x.com/2024/07/01/pkcqmhn.png)

#### 3.系统数据维度

1.承接上游的数据维度
* 基础数据：分期级别数据
* 模型，报告数据：楼栋级别数据

2.系统本身数据维度
* 展示层面：阶段数据（启动会，工规证，施工图，预测绘，实测）

3.传递给下游数据维度
* 销售层面：产权单元
* 看板 ：楼栋层面数据


#### 4.业务痛点

```
1.系统界限不清晰，数据取值源头混乱（主数据维护楼栋，报告也有，指标还可以自己创建）
2.阶段继承规则复杂（1.过度设计[小版本]，2.继承规则复杂[有的是跨阶段，有的是正常继承，有的是自动继承]）
3.填写指标数据业务校验复杂（B端系统，校验规则特别多）
4.上下游数据维度不统一（指标系统作为空间主数据，维护数据到一个统一的维度）
```


