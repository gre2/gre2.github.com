---
layout: post
title: "用增"
description: ""
category: [jekyll, github]
tags: [jekyll, github]
---
{% include JB/setup %}
### 系统定位

用增包含三个模块：直投，RTA，短信撞库，归因
* RTA是一种用于满足广告主实时投放需求的技术手段，在用户点击广告时，媒体会将用户设备id传给广告主，广告主判断是否是目标用户，之后告诉媒体这个用户需要展示广告，同时告诉媒体出价系数是多少，广告主基于点击给媒体结款。
* 短信撞库是一种拉新的手段，通过媒体用圈选客群（手机号数据）在广告主这进行匹配，匹配成功的用户进行短信发送和电话营销，同时媒体会把自己营销的用户返回给广告主，广告主基于用户提现给媒体结款。
* 直投是媒体在自己的应用商店和app帮广告主进行用户营销的方式，引导用户到广告主app进行注册，提现。
* 不管是哪一种营销，在给媒体结算金额的时候都依赖于归因系统，归因系统会根据注册渠道，注册时间等规则进行具体的归因处理。

### 前置准备
风控同事根据前端意愿，资质，后端动支进行风控建模，之后把不同的模型数据给到外部合作渠道，让合作渠道进行打分，之后风控拿到合作渠道的用户模型打分之后进行多渠道融合，生成最终的用户模型分，生成风控模型（曝光，申完，授信，动支等 ）

### 系统组成
短信撞库的系统组成分为三部分，1.撞库，2.用户风控模型分同步，3.短信归因
### 业务层级
[![pZC9KMR.png](https://s21.ax1x.com/2025/11/11/pZC9KMR.png)](https://imgchr.com/i/pZC9KMR)

### 业务流程图
业务流转
[![pZCNvRS.png](https://s21.ax1x.com/2025/11/12/pZCNvRS.png)](https://imgchr.com/i/pZCNvRS)
用户风控模型分同步
[![pZC91Z6.png](https://s21.ax1x.com/2025/11/11/pZC91Z6.png)](https://imgchr.com/i/pZC91Z6)

### 业务痛点
```aiignore
1.访问数据库改成访问用户redis，redis数据由用户表binlog来构建，用户表的附属表数据一致性存在问题，监听binlog兼容这个业务场景，提高qps，所有数据库操作通过写kafka，利用flink处理
2.之前实验使用切面，访问量级上来之后发现反序列化那个耗时过长，去掉切面【cpu高的时候序列化特别耗时】【优化了redis链接池个数】【优化了数据库连接池个数】
3.查看短信撞库效果时间周期长，所以介入了实验ABTest和策略配置
```
